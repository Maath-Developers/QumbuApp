@model IEnumerable<Qumbu_Community_Health_Care_Center.Models.Referrals>
@{
    Layout = "_CounsellorLayout";
}
<head>
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.25/css/jquery.dataTables.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.11.4/css/dataTables.bootstrap4.min.css" />
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/buttons/2.2.3/css/buttons.bootstrap4.min.css" />
</head>
<div id="Header" class="bg-info">
    <h2 class="m-1 pt-4 text-center text-white">Referred Patient(s)</h2>
</div>
<br />
<div class="container-fluid bg-white border p-4">
    <div class="row pt-4">
       
        @*<div class="col-6 text-right">
            <a asp-controller="Counseller" asp-action="CreateF" class="btn btn-info">Referr Patient</a>
        </div>*@
        <div class="col-6 text-left">
            <a asp-controller="Counseller" asp-action="CreateF" class="btn btn-info">Go Back</a>
        </div>
    </div>
    <br />

    @if (Model.Count() > 0)
    {

        <table id="myTable" table class="table table-hover table-sm" style="width:100%">
            <thead class="table-secondary">
                <tr>
                    <th>
                        Patient Name
                    </th>
                    <th>
                        Departments
                    </th>
                    <th>
                        Remarks
                    </th> 
                    <th>
                        Action
                    </th>
                   
            </thead>

            <tbody>
                @foreach (var referrals in Model)
                {
                    <tr>
                        <td width="20%">
                            @referrals.MainUser.FirstName
                            @referrals.MainUser.LastName
                        </td>
                        <td width="20%">@referrals.Departments</td>
                        <td width="20%">@referrals.Remarks</td>
                        <td width="20%">
                                <div class="w-50 btn-group" role="group">
                                    <a asp-action="DeleteReferrals" asp-route-ID="@referrals.ReferralID" class="btn btn-danger mx-1">Remove</a>
                                </div>
                        </td>
                        <div class="modal fade" id="exampleModal-@referrals.ReferralID" tabindex="-1" aria-labelledby="exampleModalLabel-@referrals.ReferralID" aria-hidden="true">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h5 class="modal-title" id="exampleModalLabel-@referrals.ReferralID">Remove referral</h5>
                                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                    </div>

                                    <div class="modal-body modal-dialog modal-dialog-centered">
                                        <p>Are you sure you want to remove this?</p>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                                        <a asp-action="Accept" asp-route-id="@referrals.ReferralID" button type="button" class="btn btn-danger">Proceed</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </tr>
                }
            </tbody>
        </table>

    }
    else
    {
        <p>No referrals added yet</p>
    }

</div>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.datatables.net/1.10.25/js/jquery.dataTables.min.js"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.datatables.net/1.11.4/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.11.4/js/dataTables.bootstrap4.min.js"></script>
<script src="https://cdn.datatables.net/buttons/2.2.3/js/dataTables.buttons.min.js"></script>
<script src="https://cdn.datatables.net/buttons/2.2.3/js/buttons.bootstrap4.min.js"></script>




